{
  "hash": "d55c69910b653ba2111d5e48558bfda2",
  "result": {
    "markdown": "---\ntitle: \"Data Acquisition\"\nauthor: \"Nandan Rajkumar\"\n---\n\n\n#Load Libraries\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-1_2b8d684953198b4c6f5db29b52483734'}\n\n```{.r .cell-code}\nlibrary(RSQLite)\nlibrary(dplyr)\nlibrary(httr)\nlibrary(glue)\nlibrary(jsonlite)\nlibrary(keyring)\nlibrary(rvest)\n```\n:::\n\n#Sending the GET request to the API\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-2_6b23ba357a92e8df7f6da75707d18f8f'}\n\n```{.r .cell-code}\n resp <- GET(\"https://api.openweathermap.org/data/2.5/weather?q=Hamburg&appid=06f32e7a837c14a491cba67578e59343\")   #Reading content from the website\nweather_data <- fromJSON(content(resp, \"text\")) %>%  \n  as.data.frame()\nweather_data\n```\n\n::: {.cell-output-display}\n`````{=html}\n<div data-pagedtable=\"false\">\n  <script data-pagedtable-source type=\"application/json\">\n{\"columns\":[{\"label\":[\"\"],\"name\":[\"_rn_\"],\"type\":[\"\"],\"align\":[\"left\"]},{\"label\":[\"coord.lon\"],\"name\":[1],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"coord.lat\"],\"name\":[2],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"weather.id\"],\"name\":[3],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"weather.main\"],\"name\":[4],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"weather.description\"],\"name\":[5],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"weather.icon\"],\"name\":[6],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"base\"],\"name\":[7],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"main.temp\"],\"name\":[8],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"main.feels_like\"],\"name\":[9],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"main.temp_min\"],\"name\":[10],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"main.temp_max\"],\"name\":[11],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"main.pressure\"],\"name\":[12],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"main.humidity\"],\"name\":[13],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"visibility\"],\"name\":[14],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"wind.speed\"],\"name\":[15],\"type\":[\"dbl\"],\"align\":[\"right\"]},{\"label\":[\"wind.deg\"],\"name\":[16],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"all\"],\"name\":[17],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"dt\"],\"name\":[18],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"sys.type\"],\"name\":[19],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"sys.id\"],\"name\":[20],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"sys.country\"],\"name\":[21],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"sys.sunrise\"],\"name\":[22],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"sys.sunset\"],\"name\":[23],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"timezone\"],\"name\":[24],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"id\"],\"name\":[25],\"type\":[\"int\"],\"align\":[\"right\"]},{\"label\":[\"name\"],\"name\":[26],\"type\":[\"chr\"],\"align\":[\"left\"]},{\"label\":[\"cod\"],\"name\":[27],\"type\":[\"int\"],\"align\":[\"right\"]}],\"data\":[{\"1\":\"10\",\"2\":\"53.55\",\"3\":\"800\",\"4\":\"Clear\",\"5\":\"clear sky\",\"6\":\"01n\",\"7\":\"stations\",\"8\":\"284.51\",\"9\":\"283.63\",\"10\":\"283.09\",\"11\":\"285.16\",\"12\":\"1027\",\"13\":\"74\",\"14\":\"10000\",\"15\":\"4.12\",\"16\":\"310\",\"17\":\"0\",\"18\":\"1685048360\",\"19\":\"1\",\"20\":\"1263\",\"21\":\"DE\",\"22\":\"1684983933\",\"23\":\"1685042914\",\"24\":\"7200\",\"25\":\"2911298\",\"26\":\"Hamburg\",\"27\":\"200\",\"_rn_\":\"1\"}],\"options\":{\"columns\":{\"min\":{},\"max\":[10]},\"rows\":{\"min\":[10],\"max\":[10]},\"pages\":{}}}\n  </script>\n</div>\n`````\n:::\n:::\n\n\n#Scrape one of the competitor websites of canyon and create a small database.\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-3_67558e5ef1be3d29961b9ca33b7d4e61'}\n\n```{.r .cell-code}\n# Set the URL of the website to scrape\nurl <- \"https://www.rosebikes.de/\"\n\n# Scrape the website\nhtml <- read_html(url)\n\n# Find the elements that contain the model names\nmodel_names <- html %>%\n  html_nodes(\".products-slider-tile__product-name\") %>%\n  html_text()\n\n# Find the elements that contain the prices\nprices <- html %>%\n  html_nodes(\".product-tile-price__current-value\") %>%\n  html_text()\n\n# Extract the number using regular expressions\nprice <- gsub(\"[^0-9.,]\", \"\", prices)  # Remove all non-digit, non-decimal, and non-comma characters\n```\n:::\n\n# Create a data frame of the model names and prices\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-4_fda563c96dc19cf3dca02372b62a6400'}\n\n```{.r .cell-code}\ndatabase <- data.frame(\n  Model = model_names,\n  Price = price\n)\n```\n:::\n\n# Print data frame\n\n::: {.cell hash='02_data_acquisition_cache/html/unnamed-chunk-5_97aaede0096ee995b542fcc2ad01f943'}\n\n```{.r .cell-code}\nprint(database)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n#>                                                    Model    Price\n#> 1                                       XLITE 04 Ultegra 3.299,00\n#> 2                                       XLITE 06 Ultegra 3.999,00\n#> 3                                BACKROAD GRX RX810 1x11 2.999,00\n#> 4                                           COUNT SOLO 2   849,00\n#> 5                                            THE BRUCE 2 1.199,00\n#> 6                                  BACKROAD AL GRX RX400 1.999,00\n#> 7                                             SNEAK PLUS 2.399,00\n#> 8                                          ROOT MILLER 1 2.299,00\n#> 9                                        PRO SL DISC 105 1.699,00\n#> 10             BACKROAD Force eTap AXS XPLR 1x12 Limited 4.899,00\n#> 11                                         THRILL HILL 3 3.999,00\n#> 12                            BACKROAD AL GRX RX600 1X11 2.349,00\n#> 13                                   MAYOR PLUS 3 Unisex 4.999,00\n#> 14                             BACKROAD AXS MULLET BUILD 3.999,00\n#> 15                Kettenverschleißlehre mit Kettenhalter     5,45\n#> 16                                   P-BOUNCE Bikeshorts    79,95\n#> 17                              Industrielager 61902-2RS    14,95\n#> 18                            ITAMOS 2 Fahrradhandschuhe    20,95\n#> 19                  SV 42 & 60 28\" Wide Rennrad Schlauch     2,95\n#> 20                          FH-S Halter für Apple AirTag     5,95\n#> 21                          SCORPIONE 3 JERSEY Radtrikot    69,95\n#> 22                        Strada E-Bike XL Fahrradträger   439,95\n#> 23                                 VALDES MTB Bikeshorts    84,95\n#> 24                 Multi Cage CF-1 Flaschenhalter Carbon    11,95\n#> 25                   NECK BRACE DBX 3.5 Nackenprotektor    221,95\n#> 26                                  Fly Tex Trinkflasche     5,95\n#> 27              AIRFLEX CHEST PROTECTOR Protektorenweste   145,95\n#> 28 Grand Prix 5000 Rennradreifen, Faltreifen (Tube-Type)    34,95\n#> 29       Shock Blow - Dämpferpumpe und Federgabelpumpe -    19,95\n```\n:::\n:::",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\r\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}